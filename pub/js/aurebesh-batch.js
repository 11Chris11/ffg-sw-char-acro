!function t(e,n,r){function i(a,c){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!c&&u)return u(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var s=n[a]={exports:{}};e[a][0].call(s.exports,function(t){var n=e[a][1][t];return i(n?n:t)},s,s.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e){e.exports={rgb:function(t,e,n){return["RGB",t>1?t/255:t,e>1?e/255:e,n>1?n/255:n]},cmyk:function(t,e,n,r){return["CMYK",t>1?t/100:t,e>1?e/100:e,n>1?n/100:n,r>1?r/100:r]}}},{}],2:[function(t,e){function n(t){i.extend(this,t),i.defaults(this,this.defaults),this.name=this.name||r.guid(),this.children=this.children||[],i.each(this.children,function(t){t.parent=this},this)}t("../acrobat/polyfills");var r=t("protean"),i=t("underscore");n.extended=function(t){var e=this,n=e.prototype,r=t.prototype,o=n.defaults,a=r.defaults;r.defaults=i.extend({},o,a||{})},e.exports=r.classify(n,{defaults:{type:"component",x:0,y:0,width:0,height:0},get fqn(){for(var t=this,e=[];t;)e.push(t.name),t=t.parent;return e.reverse().join(".")},get pageIndex(){for(var t,e=this,n=!1;e;){if(t=e.page,i.isNumber(t)){n=!0;break}e=e.parent}return n?t:0},get pageX(){return this.getComputedValue("x")},get pageY(){return this.getComputedValue("y")},set rect(t){this.x=t[0],this.y=t[1],this.width=t[2]-t[0],this.height=t[3]-t[1]},get rect(){var t=this.x,e=this.y,n=this.width,r=this.height;return[t,e,t+n,e+r]},create:function(t){return i.invoke(this.children,"create",t),this},destroy:function(){this.parent=null,i.invoke(this.children,"destroy")},render:function(){return i.invoke(this.children,"render"),this},getComputedValue:function(t){for(var e=this,n=0;e;)n+=e[t],e=e.parent;return n}})},{"../acrobat/polyfills":7,protean:22,underscore:26}],3:[function(t,e){function n(t){n.superclass.call(this,t)}t("./polyfills");var r=t("./component"),i=t("underscore");n.extended=function(t){var e=this,n=e.prototype,r=t.prototype,o=n.attributes,a=r.attributes;r.attributes=i.extend({},o,a||{})},e.exports=r.extend(n,{attributes:{alignment:"alignment",limit:"charLimit",multiline:"multiline",password:"password",rich:"richText",richText:"richValue",color:"textColor",font:"textFont",size:"textSize",noscroll:"doNotScroll",nospell:"doNotSpellCheck",pageRect:"rect",fill:"fillColor",highlight:"highlight",mark:"style",value:"value",autocommit:"commetOnSelChange"},defaults:{type:"field",autocommit:!0},create:function(t){var e=this.fqn;return n.superproto.create.call(this,t),this.doc=t,this.field=t.getField(e)||t.addField(e,this.fieldType,this.pageIndex,this.pageRect),this.render(),this},destroy:function(){this.doc=null,this.field=null,n.superproto.destroy.call(this)},render:function(){return i.each(i.keys(this.attributes),this._syncAttribute.bind(this)),n.superproto.render.call(this),this},get pageRect(){var t=this.doc.getPageBox("Bleed",this.pageIndex),e=t[1]-t[3],n=this.pageX,r=this.pageY,i=this.width,o=this.height,a=n,c=e-r,u=n+i,s=e-(r+o);return[a,c,u,s]},setFieldProperty:function(t,e){var n=!0;try{this.field[t]=e}catch(r){n=!1,console.log("Can not set property '"+t+"' on field '"+this.name)}return n},_syncAttribute:function(t){var e=this.attributes,n=e[t],r=this[t];switch(typeof r){case"undefined":return;case"function":return r.call(this,n);default:return this.setFieldProperty(n,r)}}})},{"./component":2,"./polyfills":7,underscore:26}],4:[function(t,e){function n(t){n.superclass.call(this,i.extend(t,{children:i.map(t.pages,function(t,e){return new r({name:"page"+e,type:"page",page:e,children:t})})}))}var r=t("./component"),i=t("underscore");n.create=function(t,e){var r=new n(e);t.delay=!0,r.create(t),r.destroy(),t.delay=!1,t.resetForm()},e.exports=r.extend(n,{defaults:{type:"form"}})},{"./component":2,underscore:26}],5:[function(t){var e=t("underscore");console.log||(console.log=e.bind(console.println,console))},{underscore:26}],6:[function(t){var e=t("underscore"),n=Array.prototype.slice,r=Function.prototype;r.bind||(r.bind=function(){var t=n.call(arguments);return e.bind.apply(e,[this].concat(t))})},{underscore:26}],7:[function(t){t("./object"),t("./function"),t("./console")},{"./console":5,"./function":6,"./object":8}],8:[function(){var t;Object.defineProperty||(Object.defineProperty=function(t,e,n){var r=n.value,i=n.get,o=n.set;return i||o?(i&&t.__defineGetter__(e,i),o&&t.__defineSetter__(e,o)):t[e]=r,t}),Object.defineProperties||(Object.defineProperties=function(t,e){var n;for(n in e)Object.defineProperty(t,n,e[n]);return t}),Object.create||(t=function(){},Object.create=function(e,n){var r;return t.prototype=e,r=new t,n&&Object.defineProperties(r,n),r})},{}],9:[function(t,e,n){var r=t("../acrobat/form"),i=t("underscore"),o=t("../acrobat/colors"),a=0,c=0,u=0,s=0;i.extend(n,t("../base/factory"),{format:function(t,e){return e.name="aurebesh",r.create(t,e)},description:function(t){return this.component({name:"description",x:t.x,y:t.y,children:[this.text(i.extend({name:"species",defaultValue:"Human"},t.species||{})),this.text(i.extend({name:"career"},t.career||{})),this.text(i.extend({name:"gender"},t.gender||{})),this.text(i.extend({name:"age"},t.age||{})),this.text(i.extend({name:"height"},t.height||{})),this.text(i.extend({name:"build"},t.build||{})),this.text(i.extend({name:"hair"},t.hair||{})),this.text(i.extend({name:"eyes"},t.eyes||{})),this.text(i.extend({name:"motivation1"},t.motivation1||{})),this.text(i.extend({name:"motivation2"},t.motivation2||{}))]})},charbox:function(t){return this.text(i.extend({width:22,height:18,size:18,font:font.HelvB,alignment:"center",defaultValue:2},t))},dutybox:function(t){return this.component({name:"od"+u++,x:t&&t.x||0,y:t&&t.y||0,children:[this.text({name:"description",x:0,y:0,width:134,height:15}),this.text({name:"size",x:148.75,y:0,width:36,height:15})]})},ability:function(t){var e=11.527+(t.y||0);return this.component({name:"ab"+a++,children:[this.text({name:"desc",x:0,y:e,width:277.228,height:15,rich:!0}),this.text({name:"act",x:291.94,y:e,width:52.346,height:15}),this.text({name:"rnk",x:358.884,y:e,width:20,height:15,alignment:"center"})]})},abilities:function(t){var e=this.ability.bind(this);return this.component({name:"abils",x:t.x,y:t.y,children:i.times(t.count,function(t){return e({y:16*t})})})},skillpool:function(){var t=this.checkbox.bind(this),e=142,n=8.25,r=1.4,a=9.36,c=6.48,u=9,s=style.sq;return i(5).times(function(i){return t({name:"rnk"+i,x:e+n*i,y:r+4,width:a,height:c,size:u,mark:s,color:o.cmyk(0,0,0,70)})}).concat(i(5).times(function(i){return t({name:"abil"+i,x:e+n*i,y:r,width:a,height:c,size:u,mark:s,color:o.cmyk(0,0,0,70)})}))},skill:function(t){return this.component({name:t.id,children:[this.checkbox({name:"car",x:3.25,y:2.75,width:8,height:8,size:7,color:o.cmyk(0,0,0,70),mark:style.ci})].concat(t.id&&t.id.indexOf("cust")>-1?this.text({name:"name",x:13,y:0,width:108,height:12,color:o.cmyk(0,0,0,70)}):void 0).concat(t.addStat?this.text({name:"char",x:123,y:0,width:16,height:12,size:7,alignment:"center",color:o.cmyk(0,0,0,70)}):void 0).concat(this.skillpool()).filter(Boolean)})},skills:function(e){var n=t("../base/skills"),r=this.skill.bind(this),o=function(t,e){return t.y=13*e,t},a=i.where(n,{type:"general"}).map(r).map(o),u=i.where(n,{type:"knowledge"}).concat([{id:"cust"+c++}]).concat([{id:"cust"+c++}]).map(r).map(o),s=i.where(n,{type:"combat"}).concat([{id:"cust"+c++,addStat:!0}]).map(r).map(o),l=i(4).times(function(){return{id:"cust"+c++,addStat:!0}}).map(r).map(o);return this.component({name:"skills",x:e.x,y:e.y,children:[this.component({name:"gen",x:0,y:20,children:a}),this.component({name:"know",x:196.75,y:19.75,children:u}),this.component({name:"com",x:196.75,y:150,children:s}),this.component({name:"oth",x:196.75,y:254,children:l})]})},weapbox:function(t){var e=["min","maj","des"],n={x:-1,y:0,width:7.92,height:10.8,size:9,color:o.cmyk(0,0,0,70),mark:style.cr};return this.component(i.extend({name:"weapon",x:0,y:0,children:[this.text({name:"name",x:19.5,y:0,width:115.5,height:15}),this.text({name:"skill",x:154.5,y:0,width:58.7,height:15}),this.text({name:"dam",x:225,y:0,width:15,height:15,alignment:"center"}),this.text({name:"crit",x:248,y:0,width:15,height:15,alignment:"center"}),this.text({name:"rng",x:280.6,y:0,width:51.4,height:15}),this.text({name:"enc",x:341,y:0,width:15,height:15,alignment:"center"}),this.text({name:"hp",x:364,y:0,width:15,height:15,alignment:"center"}),this.text({name:"spec",x:26.2,y:15,width:300,height:15}),this.component({name:"cond",x:356,y:16.5,children:i(3).times(function(t){var r=i.extend({name:e[t]},n);return r.x+=8*t,r}).map(this.checkbox.bind(this))})]},t))},critline:function(){var t=this.checkbox.bind(this),e={x:-2.5,y:2.75,width:7.92,height:10.8,size:9,color:o.cmyk(0,0,0,70),mark:style.di};return this.component({name:"crit"+s++,children:i(4).times(function(n){return t(i.extend({name:"cbox"+n},e))}).map(function(t,e){return t.x=8*e,t}).concat([this.text({name:"desc",x:36,y:0,width:144,height:15})])})},checkgrid:function(t){var e=t.cells,n=9,r=6.4,o=-1,a=-1,c={width:11,height:8.4,color:t.color,mark:t.mark},u=this.checkbox.bind(this);return this.component({name:t.name,x:t.x,y:t.y,children:i.chain(e).map(function(t,e){return i(t).times(function(t){var s=u(i.extend({name:"cb-"+t+"x"+e,x:t*n+a,y:e*r+o},c));return s})}).flatten().value()})},script:function(t){var e=t.toString().split("\n").slice(1);return e.pop(),e.join("\n")}})},{"../acrobat/colors":1,"../acrobat/form":4,"../base/factory":13,"../base/skills":14,underscore:26}],10:[function(t){var e=t("./factory"),n=event.target,r=t("../acrobat/colors"),i=t("underscore");e.format(n,{pages:[[e.text({name:"name",defaultValue:"Character Name",x:126.833,y:22.749,width:194,height:15,size:10}),e.description({x:411.334,y:323.926,species:{x:26.5,y:11.877,width:156.5,height:15},career:{x:26.5,y:27.877,width:156.5,height:15},gender:{x:26.5,y:43.877,width:64,height:15},age:{x:113.588,y:43.877,width:69,height:15},height:{x:26.5,y:59.877,width:64,height:15},build:{x:115.588,y:59.877,width:67,height:15},hair:{x:20.5,y:75.877,width:70,height:15},eyes:{x:113.588,y:75.877,width:69,height:15},motivation1:{x:37.5,y:91.877,width:145,height:15},motivation2:{x:4,y:107.877,width:180,height:15}}),e.component({name:"od",x:411.334,y:459,children:i.map([e.dutybox(),e.dutybox(),e.dutybox()],function(t,e){return t.y=16*e,t})}),e.component({name:"moral",x:411.334,y:517.782,children:[e.text({name:"c",x:4,y:9.5,width:30,height:18,alignment:"center",size:10}),e.text({name:"str",x:50,y:0,width:101,height:15,alignment:"right"}),e.text({name:"weak",x:50,y:16,width:101,height:15,alignment:"right"}),e.text({name:"conf",x:39.5,y:29,width:142,height:16,size:10})]}),e.component({name:"char",x:17.972,y:75.25,children:[e.charbox({name:"br"}),e.charbox({name:"ag"}),e.charbox({name:"int"}),e.charbox({name:"cun"}),e.charbox({name:"wil"}),e.charbox({name:"pr"})].map(function(t,e){return t.x=64.2*e+18,t})}),e.skills({x:18.18,y:128.013}),e.abilities({x:18.099,y:439.998,count:10}),e.component({name:"weapons",x:18.099,y:641.78,children:i(4).times(function(t){return{name:"weap"+t,x:0,y:32*t}}).map(e.weapbox.bind(e))}),e.component({name:"soak",x:411.334,y:586.4,children:[e.text({name:"value",x:10.3,y:18.3,width:30,height:18,size:13,font:font.HelvB,alignment:"center"})]}),e.component({name:"defense",x:411.334,y:630.582,children:[e.text({name:"melee",x:2,y:18.3,width:25.5,height:18,size:13,font:font.HelvB,alignment:"center"}),e.text({name:"range",x:33,y:18.3,width:30,height:18,size:13,font:font.HelvB,alignment:"center"})]}),e.component({name:"wounds",x:481.334,y:586.4,children:[e.text({name:"threshold",x:4,y:18.3,width:30,height:18,size:13,font:font.HelvB,alignment:"center"}),e.text({name:"current",x:48.15,y:18.3,width:62,height:18,size:13,alignment:"center"})]}),e.component({name:"strain",x:481.334,y:630.582,children:[e.text({name:"threshold",x:4,y:18.3,width:30,height:18,size:13,font:font.HelvB,alignment:"center"}),e.text({name:"current",x:48.15,y:18.3,width:62,height:18,size:13,alignment:"center"})]}),e.component({name:"criticals",x:410.25,y:689.448,children:i(5).times(e.critline.bind(e)).map(function(t,e){return t.y=16*e,t})})],[].concat(i(2).times(function(t){return e.component({name:"gear"+t,x:18+196.5*t,y:37,children:i(16).times(function(n){return e.component({name:"item-"+t+"-"+n,x:0,y:16*n,children:[e.text({name:"desc",x:0,y:0,width:147,height:15}),e.text({name:"enc",x:159,y:0,width:23,height:15,alignment:"center"})]})})})})).concat(e.component({name:"armor",x:18,y:308,children:[e.text({name:"desc",x:0,y:0,width:212,height:15}),e.text({name:"def",x:237.4,y:0,width:46,height:15,alignment:"center"}),e.text({name:"soak",x:299.5,y:0,width:32,height:15,alignment:"center"}),e.text({name:"enc",x:342,y:0,width:15,height:15,alignment:"center"}),e.text({name:"hp",x:363,y:0,width:15.5,height:15,alignment:"center"}),e.text({name:"spec",x:26.5,y:16,width:296,height:15}),function(){var t=["min","maj","des"],n={x:-.5,y:2,width:7.92,height:10.8,size:9,color:r.cmyk(0,0,0,70),mark:style.cr};return e.component({name:"cond",x:355.5,y:16,children:i(3).times(function(e){var r=i.extend({name:t[e]},n);return r.x+=8*e,r}).map(e.checkbox.bind(e))})}()]})).concat(e.text({name:"credits",x:24,y:360,width:169,height:15})).concat(e.text({name:"enc-threshold",x:258,y:360,width:40.8,height:15,alignment:"center"})).concat(e.text({name:"enc-current",x:343,y:360,width:48,height:15,alignment:"center"})).concat(e.abilities({x:18,y:405,count:22})).concat(e.text({name:"exp-total",x:435,y:41,width:60,height:15,alignment:"center"})).concat(e.text({name:"exp-avail",x:528,y:41,width:60,height:15,alignment:"right"})).concat(e.component({name:"specs",x:411,y:81.436,children:[0,60.5,60.3,60.45,60.25].reduce(function(t,n,i){return t.y+=n,t.items.push(e.component({name:"spec"+i,x:0,y:t.y,children:[e.checkbox({name:"car",x:3.5,y:7,width:8,height:8,size:7,color:r.cmyk(0,0,0,70),mark:style.ci}),e.text({name:"name",x:7.5,y:19,width:136.45,height:15,size:9}),e.text({name:"sig",x:13.28,y:38,width:130,height:15,size:9,alignment:"right"})].concat(e.checkgrid({name:"talgrid",cells:[4,4,4,4,4],x:147,y:0,color:r.cmyk(0,0,0,70),mark:style.cr})).concat(e.checkgrid({name:"sigrid",cells:[1,4,4],x:147,y:35,color:r.cmyk(0,0,0,70),mark:style.cr}))})),t},{y:0,items:[]}).items})).concat(e.component({name:"powers",x:411,y:385.5,children:[0,40,40,40,40,40].reduce(function(t,n,i){return t.y+=n,t.items.push(e.component({name:"pow"+i,x:0,y:t.y,children:[e.text({name:"name",x:7.5,y:17,width:136.45,height:15,size:9}),e.checkgrid({name:"powgrid",cells:[1,4,4,4,4],x:147,y:0,color:r.cmyk(0,0,0,70),mark:style.cr})]})),t},{y:0,items:[]}).items})).concat(e.text({name:"notes",x:411,y:638,width:183,height:133.2,size:9,multiline:!0}))]})},{"../acrobat/colors":1,"./factory":9,underscore:26}],11:[function(t,e){function n(t){n.superclass.call(this,t)}var r=t("../acrobat/field");e.exports=r.extend(n,{fieldType:"checkbox"})},{"../acrobat/field":3}],12:[function(t,e){function n(t){n.superclass.call(this,t)}var r=t("./text");e.exports=r.extend(n,{fieldType:"listbox",attributes:{},defaults:{items:[]},sync:function(){var t=this.field;return n.superproto.sync.call(this),t.setItems(this.items),this}})},{"./text":15}],13:[function(t,e,n){var r=t("../acrobat/component"),i=t("./text"),o=t("./check-box"),a=t("./drop-down"),c=t("../acrobat/form");n.format=function(t,e){return c.create(t,e)},n.component=function(t){return new r(t)},n.text=function(t){return new i(t)},n.dropdown=function(t){return new a(t)},n.checkbox=function(t){return new o(t)}},{"../acrobat/component":2,"../acrobat/form":4,"./check-box":11,"./drop-down":12,"./text":15}],14:[function(t,e){function n(t,e,n){return{id:t,characteristic:e,type:n}}var r="general",i="knowledge",o="combat",a="brawn",c="agility",u="intellect",s="cunning",l="willpower",h="presence";e.exports=[n("astrogation",u,r),n("athletics",a,r),n("charm",h,r),n("coercion",l,r),n("computers",u,r),n("cool",h,r),n("coordination",u,r),n("deception",s,r),n("discipline",l,r),n("leadership",h,r),n("mechanics",u,r),n("medicine",u,r),n("negotiation",h,r),n("perception",s,r),n("piloting-planetary",c,r),n("piloting-space",c,r),n("resilience",a,r),n("skulduggery",s,r),n("stealth",c,r),n("streetwise",s,r),n("survival",s,r),n("vigilance",l,r),n("brawl",a,o),n("gunnery",c,o),n("lightsaber",a,o),n("melee",a,o),n("ranged-heavy",c,o),n("ranged-light",c,o),n("core-worlds",u,i),n("education",u,i),n("lore",u,i),n("outer-rim",u,i),n("underworld",u,i),n("warfare",u,i),n("xenology",u,i)]},{}],15:[function(t,e){function n(t){n.superclass.call(this,t)}var r=t("../acrobat/field"),i=t("../acrobat/colors");e.exports=r.extend(n,{fieldType:"text",defaults:{type:"text",width:72,height:16,font:font.Helv,color:i.cmyk(0,0,0,70),size:8,alignment:"left",multiline:!1,rich:!1,noscroll:!0,nospell:!0}})},{"../acrobat/colors":1,"../acrobat/field":3}],16:[function(t,e){function n(){return r.rest(arguments,1).reduce(function(t,e){var n,r,i,o;for(n in e)t.hasOwnProperty(n)||(r=e.__lookupGetter__(n),i=e.__lookupSetter__(n),r||i?(o=o||{},o[n]={get:r,set:i,configurable:!0,enumerable:!0}):t[n]=e[n]);return o&&Object.defineProperties(t,o),t},arguments[0])}var r=t("underscore");e.exports=n},{underscore:26}],17:[function(t,e){e.exports=t("./inherit").bind(null,Object)},{"./inherit":23}],18:[function(t,e){var n=t("underscore");e.exports=function(){return n.reduce(arguments,function(t,e,n){return t[e]=n+1,t},{})}},{underscore:26}],19:[function(t,e){function n(){var t=i.flatten(i.rest(arguments,0)).reduce(function(t,e){var n;return i.isFunction(e)?(n={},n.fn=e,t.push(n)):(n=t[t.length-1],n.args=n.args||[null],n.args.push(e)),t},[]).map(function(t){return r.apply(t.fn,t.args)});return function(){for(var e,n=i.rest(arguments,0),r=t.length,o=0;r>o;o++)e=t[o],n=e[i.isArray(n)?"apply":"call"](null,n);return n}}var r=Function.prototype.bind,i=t("underscore");e.exports=n},{underscore:26}],20:[function(t,e){for(var n=[],r=0;256>r;r++)n[r]=(16>r?"0":"")+r.toString(16);e.exports=function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return n[255&t]+n[t>>8&255]+n[t>>16&255]+n[t>>24&255]+"-"+n[255&e]+n[e>>8&255]+"-"+n[e>>16&15|64]+n[e>>24&255]+"-"+n[63&r|128]+n[r>>8&255]+"-"+n[r>>16&255]+n[r>>24&255]+n[255&i]+n[i>>8&255]+n[i>>16&255]+n[i>>24&255]}},{}],21:[function(t,e){var n=t("underscore");e.exports=function(){var t=n.rest(arguments,0);return n.object(t,t)}},{underscore:26}],22:[function(t,e){e.exports={inherit:t("./inherit"),classify:t("./classify"),augment:t("./augment"),hashify:t("./hashify"),enumerate:t("./enumerate"),instantiate:t("./instantiate"),guid:t("./guid"),invoke:t("./invoke"),execute:t("./execute")}},{"./augment":16,"./classify":17,"./enumerate":18,"./execute":19,"./guid":20,"./hashify":21,"./inherit":23,"./instantiate":24,"./invoke":25}],23:[function(t,e){function n(t,e,o,a){var c,u,s;return arguments.length<4&&"function"!=typeof e&&(a=o,o=e,e=null),c=o&&o.hasOwnProperty("constructor"),e=e||c&&o.constructor||function(){t.apply(this,arguments)},u=t.prototype,e.prototype=s=r(Object.create(u),e.prototype),a=a||{},o&&(delete o.constructor,r(s,o)),a.constructor={value:e},Object.defineProperties(s,a),e.superclass=t,e.superproto=u,e.extend||(e.extend=n.bind(e,e)),e.extended=e.extended?i.wrap(e.extended.bind(e),function(e,n){t.extended&&t.extended(n),e(n)}):t.extended,t.extended&&t.extended(e),e}var r=t("./augment"),i=t("underscore");e.exports=n},{"./augment":16,underscore:26}],24:[function(t,e){t("underscore");e.exports=function(t,e){var n=Object.create(t.prototype);return t.apply(n,e||[]),n}},{underscore:26}],25:[function(t,e){function n(t){var e=r.rest(arguments,1);return function(n){return n[t].apply(n,e)}}var r=t("underscore");e.exports=n},{underscore:26}],26:[function(t,e,n){(function(){var t=this,r=t._,i=Array.prototype,o=Object.prototype,a=Function.prototype,c=i.push,u=i.slice,s=i.concat,l=o.toString,h=o.hasOwnProperty,f=Array.isArray,d=Object.keys,p=a.bind,m=function(t){return t instanceof m?t:this instanceof m?void(this._wrapped=t):new m(t)};"undefined"!=typeof n?("undefined"!=typeof e&&e.exports&&(n=e.exports=m),n._=m):t._=m,m.VERSION="1.7.0";var g=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}};m.iteratee=function(t,e,n){return null==t?m.identity:m.isFunction(t)?g(t,e,n):m.isObject(t)?m.matches(t):m.property(t)},m.each=m.forEach=function(t,e,n){if(null==t)return t;e=g(e,n);var r,i=t.length;if(i===+i)for(r=0;i>r;r++)e(t[r],r,t);else{var o=m.keys(t);for(r=0,i=o.length;i>r;r++)e(t[o[r]],o[r],t)}return t},m.map=m.collect=function(t,e,n){if(null==t)return[];e=m.iteratee(e,n);for(var r,i=t.length!==+t.length&&m.keys(t),o=(i||t).length,a=Array(o),c=0;o>c;c++)r=i?i[c]:c,a[c]=e(t[r],r,t);return a};var y="Reduce of empty array with no initial value";m.reduce=m.foldl=m.inject=function(t,e,n,r){null==t&&(t=[]),e=g(e,r,4);var i,o=t.length!==+t.length&&m.keys(t),a=(o||t).length,c=0;if(arguments.length<3){if(!a)throw new TypeError(y);n=t[o?o[c++]:c++]}for(;a>c;c++)i=o?o[c]:c,n=e(n,t[i],i,t);return n},m.reduceRight=m.foldr=function(t,e,n,r){null==t&&(t=[]),e=g(e,r,4);var i,o=t.length!==+t.length&&m.keys(t),a=(o||t).length;if(arguments.length<3){if(!a)throw new TypeError(y);n=t[o?o[--a]:--a]}for(;a--;)i=o?o[a]:a,n=e(n,t[i],i,t);return n},m.find=m.detect=function(t,e,n){var r;return e=m.iteratee(e,n),m.some(t,function(t,n,i){return e(t,n,i)?(r=t,!0):void 0}),r},m.filter=m.select=function(t,e,n){var r=[];return null==t?r:(e=m.iteratee(e,n),m.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r)},m.reject=function(t,e,n){return m.filter(t,m.negate(m.iteratee(e)),n)},m.every=m.all=function(t,e,n){if(null==t)return!0;e=m.iteratee(e,n);var r,i,o=t.length!==+t.length&&m.keys(t),a=(o||t).length;for(r=0;a>r;r++)if(i=o?o[r]:r,!e(t[i],i,t))return!1;return!0},m.some=m.any=function(t,e,n){if(null==t)return!1;e=m.iteratee(e,n);var r,i,o=t.length!==+t.length&&m.keys(t),a=(o||t).length;for(r=0;a>r;r++)if(i=o?o[r]:r,e(t[i],i,t))return!0;return!1},m.contains=m.include=function(t,e){return null==t?!1:(t.length!==+t.length&&(t=m.values(t)),m.indexOf(t,e)>=0)},m.invoke=function(t,e){var n=u.call(arguments,2),r=m.isFunction(e);return m.map(t,function(t){return(r?e:t[e]).apply(t,n)})},m.pluck=function(t,e){return m.map(t,m.property(e))},m.where=function(t,e){return m.filter(t,m.matches(e))},m.findWhere=function(t,e){return m.find(t,m.matches(e))},m.max=function(t,e,n){var r,i,o=-1/0,a=-1/0;if(null==e&&null!=t){t=t.length===+t.length?t:m.values(t);for(var c=0,u=t.length;u>c;c++)r=t[c],r>o&&(o=r)}else e=m.iteratee(e,n),m.each(t,function(t,n,r){i=e(t,n,r),(i>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},m.min=function(t,e,n){var r,i,o=1/0,a=1/0;if(null==e&&null!=t){t=t.length===+t.length?t:m.values(t);for(var c=0,u=t.length;u>c;c++)r=t[c],o>r&&(o=r)}else e=m.iteratee(e,n),m.each(t,function(t,n,r){i=e(t,n,r),(a>i||1/0===i&&1/0===o)&&(o=t,a=i)});return o},m.shuffle=function(t){for(var e,n=t&&t.length===+t.length?t:m.values(t),r=n.length,i=Array(r),o=0;r>o;o++)e=m.random(0,o),e!==o&&(i[o]=i[e]),i[e]=n[o];return i},m.sample=function(t,e,n){return null==e||n?(t.length!==+t.length&&(t=m.values(t)),t[m.random(t.length-1)]):m.shuffle(t).slice(0,Math.max(0,e))},m.sortBy=function(t,e,n){return e=m.iteratee(e,n),m.pluck(m.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var x=function(t){return function(e,n,r){var i={};return n=m.iteratee(n,r),m.each(e,function(r,o){var a=n(r,o,e);t(i,r,a)}),i}};m.groupBy=x(function(t,e,n){m.has(t,n)?t[n].push(e):t[n]=[e]}),m.indexBy=x(function(t,e,n){t[n]=e}),m.countBy=x(function(t,e,n){m.has(t,n)?t[n]++:t[n]=1}),m.sortedIndex=function(t,e,n,r){n=m.iteratee(n,r,1);for(var i=n(e),o=0,a=t.length;a>o;){var c=o+a>>>1;n(t[c])<i?o=c+1:a=c}return o},m.toArray=function(t){return t?m.isArray(t)?u.call(t):t.length===+t.length?m.map(t,m.identity):m.values(t):[]},m.size=function(t){return null==t?0:t.length===+t.length?t.length:m.keys(t).length},m.partition=function(t,e,n){e=m.iteratee(e,n);var r=[],i=[];return m.each(t,function(t,n,o){(e(t,n,o)?r:i).push(t)}),[r,i]},m.first=m.head=m.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:0>e?[]:u.call(t,0,e)},m.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},m.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:u.call(t,Math.max(t.length-e,0))},m.rest=m.tail=m.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},m.compact=function(t){return m.filter(t,m.identity)};var v=function(t,e,n,r){if(e&&m.every(t,m.isArray))return s.apply(r,t);for(var i=0,o=t.length;o>i;i++){var a=t[i];m.isArray(a)||m.isArguments(a)?e?c.apply(r,a):v(a,e,n,r):n||r.push(a)}return r};m.flatten=function(t,e){return v(t,e,!1,[])},m.without=function(t){return m.difference(t,u.call(arguments,1))},m.uniq=m.unique=function(t,e,n,r){if(null==t)return[];m.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=m.iteratee(n,r));for(var i=[],o=[],a=0,c=t.length;c>a;a++){var u=t[a];if(e)a&&o===u||i.push(u),o=u;else if(n){var s=n(u,a,t);m.indexOf(o,s)<0&&(o.push(s),i.push(u))}else m.indexOf(i,u)<0&&i.push(u)}return i},m.union=function(){return m.uniq(v(arguments,!0,!0,[]))},m.intersection=function(t){if(null==t)return[];for(var e=[],n=arguments.length,r=0,i=t.length;i>r;r++){var o=t[r];if(!m.contains(e,o)){for(var a=1;n>a&&m.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},m.difference=function(t){var e=v(u.call(arguments,1),!0,!0,[]);return m.filter(t,function(t){return!m.contains(e,t)})},m.zip=function(t){if(null==t)return[];for(var e=m.max(arguments,"length").length,n=Array(e),r=0;e>r;r++)n[r]=m.pluck(arguments,r);return n},m.object=function(t,e){if(null==t)return{};for(var n={},r=0,i=t.length;i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},m.indexOf=function(t,e,n){if(null==t)return-1;var r=0,i=t.length;if(n){if("number"!=typeof n)return r=m.sortedIndex(t,e),t[r]===e?r:-1;r=0>n?Math.max(0,i+n):n}for(;i>r;r++)if(t[r]===e)return r;return-1},m.lastIndexOf=function(t,e,n){if(null==t)return-1;var r=t.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(t[r]===e)return r;return-1},m.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;r>o;o++,t+=n)i[o]=t;return i};var b=function(){};m.bind=function(t,e){var n,r;if(p&&t.bind===p)return p.apply(t,u.call(arguments,1));if(!m.isFunction(t))throw new TypeError("Bind must be called on a function");return n=u.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,n.concat(u.call(arguments)));b.prototype=t.prototype;var i=new b;b.prototype=null;var o=t.apply(i,n.concat(u.call(arguments)));return m.isObject(o)?o:i}},m.partial=function(t){var e=u.call(arguments,1);return function(){for(var n=0,r=e.slice(),i=0,o=r.length;o>i;i++)r[i]===m&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return t.apply(this,r)}},m.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=m.bind(t[n],t);return t},m.memoize=function(t,e){var n=function(r){var i=n.cache,o=e?e.apply(this,arguments):r;return m.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return n.cache={},n},m.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},m.defer=function(t){return m.delay.apply(m,[t,1].concat(u.call(arguments,1)))},m.throttle=function(t,e,n){var r,i,o,a=null,c=0;n||(n={});var u=function(){c=n.leading===!1?0:m.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var s=m.now();c||n.leading!==!1||(c=s);var l=e-(s-c);return r=this,i=arguments,0>=l||l>e?(clearTimeout(a),a=null,c=s,o=t.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,l)),o}},m.debounce=function(t,e,n){var r,i,o,a,c,u=function(){var s=m.now()-a;e>s&&s>0?r=setTimeout(u,e-s):(r=null,n||(c=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=m.now();var s=n&&!r;return r||(r=setTimeout(u,e)),s&&(c=t.apply(o,i),o=i=null),c}},m.wrap=function(t,e){return m.partial(e,t)},m.negate=function(t){return function(){return!t.apply(this,arguments)}},m.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},m.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},m.before=function(t,e){var n;return function(){return--t>0?n=e.apply(this,arguments):e=null,n}},m.once=m.partial(m.before,2),m.keys=function(t){if(!m.isObject(t))return[];if(d)return d(t);var e=[];for(var n in t)m.has(t,n)&&e.push(n);return e},m.values=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},m.pairs=function(t){for(var e=m.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},m.invert=function(t){for(var e={},n=m.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},m.functions=m.methods=function(t){var e=[];for(var n in t)m.isFunction(t[n])&&e.push(n);return e.sort()},m.extend=function(t){if(!m.isObject(t))return t;for(var e,n,r=1,i=arguments.length;i>r;r++){e=arguments[r];for(n in e)h.call(e,n)&&(t[n]=e[n])}return t},m.pick=function(t,e,n){var r,i={};if(null==t)return i;if(m.isFunction(e)){e=g(e,n);for(r in t){var o=t[r];e(o,r,t)&&(i[r]=o)}}else{var a=s.apply([],u.call(arguments,1));t=new Object(t);for(var c=0,l=a.length;l>c;c++)r=a[c],r in t&&(i[r]=t[r])}return i},m.omit=function(t,e,n){if(m.isFunction(e))e=m.negate(e);else{var r=m.map(s.apply([],u.call(arguments,1)),String);e=function(t,e){return!m.contains(r,e)}}return m.pick(t,e,n)},m.defaults=function(t){if(!m.isObject(t))return t;for(var e=1,n=arguments.length;n>e;e++){var r=arguments[e];for(var i in r)void 0===t[i]&&(t[i]=r[i])}return t},m.clone=function(t){return m.isObject(t)?m.isArray(t)?t.slice():m.extend({},t):t},m.tap=function(t,e){return e(t),t};var w=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof m&&(t=t._wrapped),e instanceof m&&(e=e._wrapped);var i=l.call(t);if(i!==l.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=n.length;o--;)if(n[o]===t)return r[o]===e;var a=t.constructor,c=e.constructor;if(a!==c&&"constructor"in t&&"constructor"in e&&!(m.isFunction(a)&&a instanceof a&&m.isFunction(c)&&c instanceof c))return!1;n.push(t),r.push(e);var u,s;if("[object Array]"===i){if(u=t.length,s=u===e.length)for(;u--&&(s=w(t[u],e[u],n,r)););}else{var h,f=m.keys(t);if(u=f.length,s=m.keys(e).length===u)for(;u--&&(h=f[u],s=m.has(e,h)&&w(t[h],e[h],n,r)););}return n.pop(),r.pop(),s};m.isEqual=function(t,e){return w(t,e,[],[])},m.isEmpty=function(t){if(null==t)return!0;if(m.isArray(t)||m.isString(t)||m.isArguments(t))return 0===t.length;for(var e in t)if(m.has(t,e))return!1;return!0},m.isElement=function(t){return!(!t||1!==t.nodeType)},m.isArray=f||function(t){return"[object Array]"===l.call(t)},m.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},m.each(["Arguments","Function","String","Number","Date","RegExp"],function(t){m["is"+t]=function(e){return l.call(e)==="[object "+t+"]"}}),m.isArguments(arguments)||(m.isArguments=function(t){return m.has(t,"callee")}),"function"!=typeof/./&&(m.isFunction=function(t){return"function"==typeof t||!1}),m.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))
},m.isNaN=function(t){return m.isNumber(t)&&t!==+t},m.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===l.call(t)},m.isNull=function(t){return null===t},m.isUndefined=function(t){return void 0===t},m.has=function(t,e){return null!=t&&h.call(t,e)},m.noConflict=function(){return t._=r,this},m.identity=function(t){return t},m.constant=function(t){return function(){return t}},m.noop=function(){},m.property=function(t){return function(e){return e[t]}},m.matches=function(t){var e=m.pairs(t),n=e.length;return function(t){if(null==t)return!n;t=new Object(t);for(var r=0;n>r;r++){var i=e[r],o=i[0];if(i[1]!==t[o]||!(o in t))return!1}return!0}},m.times=function(t,e,n){var r=Array(Math.max(0,t));e=g(e,n,1);for(var i=0;t>i;i++)r[i]=e(i);return r},m.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},m.now=Date.now||function(){return(new Date).getTime()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=m.invert(k),_=function(t){var e=function(e){return t[e]},n="(?:"+m.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};m.escape=_(k),m.unescape=_(j),m.result=function(t,e){if(null==t)return void 0;var n=t[e];return m.isFunction(n)?t[e]():n};var O=0;m.uniqueId=function(t){var e=++O+"";return t?t+e:e},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,S=function(t){return"\\"+z[t]};m.template=function(t,e,n){!e&&n&&(e=n),e=m.defaults({},e,m.templateSettings);var r=RegExp([(e.escape||A).source,(e.interpolate||A).source,(e.evaluate||A).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(e,n,r,a,c){return o+=t.slice(i,c).replace(F,S),i=c+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(c){throw c.source=o,c}var u=function(t){return a.call(this,t,m)},s=e.variable||"obj";return u.source="function("+s+"){\n"+o+"}",u},m.chain=function(t){var e=m(t);return e._chain=!0,e};var B=function(t){return this._chain?m(t).chain():t};m.mixin=function(t){m.each(m.functions(t),function(e){var n=m[e]=t[e];m.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),B.call(this,n.apply(m,t))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=i[t];m.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],B.call(this,n)}}),m.each(["concat","join","slice"],function(t){var e=i[t];m.prototype[t]=function(){return B.call(this,e.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this)},{}]},{},[10]);