!function e(t,n,r){function i(o,c){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!c&&u)return u(o,!0);if(a)return a(o,!0);throw new Error("Cannot find module '"+o+"'")}var s=n[o]={exports:{}};t[o][0].call(s.exports,function(e){var n=t[o][1][e];return i(n?n:e)},s,s.exports,e,t,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t){t.exports={rgb:function(e,t,n){return["RGB",e>1?e/255:e,t>1?t/255:t,n>1?n/255:n]},cmyk:function(e,t,n,r){return["CMYK",e>1?e/100:e,t>1?t/100:t,n>1?n/100:n,r>1?r/100:r]}}},{}],2:[function(e,t){function n(e){i.extend(this,e),i.defaults(this,this.defaults),this.name=this.name||r.guid(),this.children=this.children||[],i.each(this.children,function(e){e.parent=this},this)}e("../acrobat/polyfills");var r=e("protean"),i=e("underscore");n.extended=function(e){var t=this,n=t.prototype,r=e.prototype,a=n.defaults,o=r.defaults;r.defaults=i.extend({},a,o||{})},t.exports=r.classify(n,{defaults:{type:"component",x:0,y:0,width:0,height:0},get fqn(){for(var e=this,t=[];e;)t.push(e.name),e=e.parent;return t.reverse().join(".")},get pageIndex(){for(var e,t=this,n=!1;t;){if(e=t.page,i.isNumber(e)){n=!0;break}t=t.parent}return n?e:0},get pageX(){return this.getComputedValue("x")},get pageY(){return this.getComputedValue("y")},set rect(e){this.x=e[0],this.y=e[1],this.width=e[2]-e[0],this.height=e[3]-e[1]},get rect(){var e=this.x,t=this.y,n=this.width,r=this.height;return[e,t,e+n,t+r]},create:function(e){return i.invoke(this.children,"create",e),this},destroy:function(){this.parent=null,i.invoke(this.children,"destroy")},render:function(){return i.invoke(this.children,"render"),this},getComputedValue:function(e){for(var t=this,n=0;t;)n+=t[e],t=t.parent;return n}})},{"../acrobat/polyfills":7,protean:23,underscore:27}],3:[function(e,t){function n(e){n.superclass.call(this,e)}e("./polyfills");var r=e("./component"),i=e("underscore");n.extended=function(e){var t=this,n=t.prototype,r=e.prototype,a=n.attributes,o=r.attributes;r.attributes=i.extend({},a,o||{})},t.exports=r.extend(n,{attributes:{alignment:"alignment",limit:"charLimit",multiline:"multiline",password:"password",rich:"richText",richText:"richValue",color:"textColor",font:"textFont",size:"textSize",noscroll:"doNotScroll",nospell:"doNotSpellCheck",pageRect:"rect",fill:"fillColor",highlight:"highlight",mark:"style",value:"value",autocommit:"commetOnSelChange"},defaults:{type:"field",autocommit:!0},create:function(e){var t=this.fqn;return n.superproto.create.call(this,e),this.doc=e,this.field=e.getField(t)||e.addField(t,this.fieldType,this.pageIndex,this.pageRect),this.render(),this},destroy:function(){this.doc=null,this.field=null,n.superproto.destroy.call(this)},render:function(){return i.each(i.keys(this.attributes),this._syncAttribute.bind(this)),n.superproto.render.call(this),this},get pageRect(){var e=this.doc.getPageBox("Bleed",this.pageIndex),t=e[1]-e[3],n=this.pageX,r=this.pageY,i=this.width,a=this.height,o=n,c=t-r,u=n+i,s=t-(r+a);return[o,c,u,s]},setFieldProperty:function(e,t){var n=!0;try{this.field[e]=t}catch(r){n=!1,console.log("Can not set property '"+e+"' on field '"+this.name)}return n},_syncAttribute:function(e){var t=this.attributes,n=t[e],r=this[e];switch(typeof r){case"undefined":return;case"function":return r.call(this,n);default:return this.setFieldProperty(n,r)}}})},{"./component":2,"./polyfills":7,underscore:27}],4:[function(e,t){function n(e){n.superclass.call(this,i.extend(e,{children:i.map(e.pages,function(e,t){return new r({name:"page"+t,type:"page",page:t,children:e})})}))}var r=e("./component"),i=e("underscore");n.create=function(e,t){var r=new n(t);e.delay=!0,r.create(e),r.destroy(),e.delay=!1,e.resetForm()},t.exports=r.extend(n,{defaults:{type:"form"}})},{"./component":2,underscore:27}],5:[function(e){var t=e("underscore");console.log||(console.log=t.bind(console.println,console))},{underscore:27}],6:[function(e){var t=e("underscore"),n=Array.prototype.slice,r=Function.prototype;r.bind||(r.bind=function(){var e=n.call(arguments);return t.bind.apply(t,[this].concat(e))})},{underscore:27}],7:[function(e){e("./object"),e("./function"),e("./console")},{"./console":5,"./function":6,"./object":8}],8:[function(){var e;Object.defineProperty||(Object.defineProperty=function(e,t,n){var r=n.value,i=n.get,a=n.set;return i||a?(i&&e.__defineGetter__(t,i),a&&e.__defineSetter__(t,a)):e[t]=r,e}),Object.defineProperties||(Object.defineProperties=function(e,t){var n;for(n in t)Object.defineProperty(e,n,t[n]);return e}),Object.create||(e=function(){},Object.create=function(t,n){var r;return e.prototype=t,r=new e,n&&Object.defineProperties(r,n),r})},{}],9:[function(e,t){function n(e){n.superclass.call(this,e)}var r=e("../acrobat/field");t.exports=r.extend(n,{fieldType:"checkbox"})},{"../acrobat/field":3}],10:[function(e,t){function n(e){n.superclass.call(this,e)}var r=e("./text");t.exports=r.extend(n,{fieldType:"listbox",attributes:{},defaults:{items:[]},sync:function(){var e=this.field;return n.superproto.sync.call(this),e.setItems(this.items),this}})},{"./text":13}],11:[function(e,t,n){var r=e("../acrobat/component"),i=e("./text"),a=e("./check-box"),o=e("./drop-down"),c=e("../acrobat/form");n.format=function(e,t){return c.create(e,t)},n.component=function(e){return new r(e)},n.text=function(e){return new i(e)},n.dropdown=function(e){return new o(e)},n.checkbox=function(e){return new a(e)}},{"../acrobat/component":2,"../acrobat/form":4,"./check-box":9,"./drop-down":10,"./text":13}],12:[function(e,t){function n(e,t,n){return{id:e,characteristic:t,type:n}}var r="general",i="knowledge",a="combat",o="brawn",c="agility",u="intellect",s="cunning",l="willpower",h="presence";t.exports=[n("astrogation",u,r),n("athletics",o,r),n("charm",h,r),n("coercion",l,r),n("computers",u,r),n("cool",h,r),n("coordination",u,r),n("deception",s,r),n("discipline",l,r),n("leadership",h,r),n("mechanics",u,r),n("medicine",u,r),n("negotiation",h,r),n("perception",s,r),n("piloting-planetary",c,r),n("piloting-space",c,r),n("resilience",o,r),n("skulduggery",s,r),n("stealth",c,r),n("streetwise",s,r),n("survival",s,r),n("vigilance",l,r),n("brawl",o,a),n("gunnery",c,a),n("lightsaber",o,a),n("melee",o,a),n("ranged-heavy",c,a),n("ranged-light",c,a),n("core-worlds",u,i),n("education",u,i),n("lore",u,i),n("outer-rim",u,i),n("underworld",u,i),n("warfare",u,i),n("xenology",u,i)]},{}],13:[function(e,t){function n(e){n.superclass.call(this,e)}{var r=e("../acrobat/field");e("../acrobat/colors")}t.exports=r.extend(n,{fieldType:"text",defaults:{type:"text",alignment:"left",multiline:!1,rich:!1,noscroll:!0,nospell:!0}})},{"../acrobat/colors":1,"../acrobat/field":3}],14:[function(e,t,n){var r=e("../acrobat/form"),i=e("underscore"),a=0,o=0,c=0,u=0;i.extend(n,e("../base/factory"),{format:function(e,t){return t.name="aurebesh",r.create(e,t)},description:function(e){return this.component({name:"description",x:e.x,y:e.y,children:[this.text(i.extend({name:"species",defaultValue:"Human"},e.species||{})),this.text(i.extend({name:"career"},e.career||{})),this.text(i.extend({name:"gender"},e.gender||{})),this.text(i.extend({name:"age"},e.age||{})),this.text(i.extend({name:"height"},e.height||{})),this.text(i.extend({name:"build"},e.build||{})),this.text(i.extend({name:"hair"},e.hair||{})),this.text(i.extend({name:"eyes"},e.eyes||{})),this.text(i.extend({name:"motive"},e.motivation||{})),this.text(i.extend({name:"feat"},e.features||{}))]})},charbox:function(e){return this.text(i.extend({width:22,height:18,size:18,font:font.HelvB,alignment:"center",defaultValue:2},e))},dutybox:function(e){return this.component({name:"od"+c++,x:e&&e.x||0,y:e&&e.y||0,children:[this.text({name:"description",x:0,y:0,width:134,height:15}),this.text({name:"size",x:148.75,y:0,width:36,height:15})]})},ability:function(e){var t=11.527+(e.y||0);return this.component({name:"ab"+a++,children:[this.text({name:"desc",x:0,y:t,width:277.228,height:15,rich:!0}),this.text({name:"act",x:291.94,y:t,width:52.346,height:15}),this.text({name:"rnk",x:358.884,y:t,width:20,height:15,alignment:"center"})]})},abilities:function(e){var t=this.ability.bind(this);return this.component({name:"abils",x:e.x,y:e.y,children:i.times(e.count,function(e){return t({y:16*e})})})},skillpool:function(){var e=this.checkbox.bind(this),t=142,n=8.25,r=1.4,a=9.36,o=6.48,c=9,u=style.sq;return i(5).times(function(i){return e({name:"rnk"+i,x:t+n*i,y:r+4,width:a,height:o,size:c,mark:u})}).concat(i(5).times(function(i){return e({name:"abil"+i,x:t+n*i,y:r,width:a,height:o,size:c,mark:u})}))},skill:function(e){return this.component({name:e.id,children:[this.checkbox({name:"car",x:3.25,y:2.75,width:8,height:8,size:7,mark:style.ci})].concat(e.id&&e.id.indexOf("cust")>-1?this.text({name:"name",x:13,y:0,width:108,height:12}):void 0).concat(e.addStat?this.text({name:"char",x:123,y:0,width:16,height:12,size:7,alignment:"center"}):void 0).concat(this.skillpool()).filter(Boolean)})},skills:function(t){var n=e("../base/skills"),r=this.skill.bind(this),a=function(e,t){return e.y=13*t,e},c=i.where(n,{type:"general"}).map(r).map(a),u=i.where(n,{type:"knowledge"}).concat([{id:"cust"+o++}]).concat([{id:"cust"+o++}]).map(r).map(a),s=i.where(n,{type:"combat"}).concat([{id:"cust"+o++,addStat:!0}]).map(r).map(a),l=i(4).times(function(){return{id:"cust"+o++,addStat:!0}}).map(r).map(a);return this.component({name:"skills",x:t.x,y:t.y,children:[this.component({name:"gen",x:0,y:20,children:c}),this.component({name:"know",x:196.75,y:19.75,children:u}),this.component({name:"com",x:196.75,y:150,children:s}),this.component({name:"oth",x:196.75,y:254,children:l})]})},weapbox:function(e){var t=["min","maj","des"],n={x:-1,y:0,width:7.92,height:10.8,size:9,mark:style.cr};return this.component(i.extend({name:"weapon",x:0,y:0,children:[this.text({name:"name",x:19.5,y:0,width:115.5,height:15}),this.text({name:"skill",x:154.5,y:0,width:58.7,height:15}),this.text({name:"dam",x:225,y:0,width:15,height:15,alignment:"center"}),this.text({name:"crit",x:248,y:0,width:15,height:15,alignment:"center"}),this.text({name:"rng",x:280.6,y:0,width:51.4,height:15}),this.text({name:"enc",x:341,y:0,width:15,height:15,alignment:"center"}),this.text({name:"hp",x:364,y:0,width:15,height:15,alignment:"center"}),this.text({name:"spec",x:26.2,y:15,width:300,height:15}),this.component({name:"cond",x:356,y:16.5,children:i(3).times(function(e){var r=i.extend({name:t[e]},n);return r.x+=8*e,r}).map(this.checkbox.bind(this))})]},e))},critline:function(){var e=this.checkbox.bind(this),t={x:-2.5,y:2.75,width:7.92,height:10.8,size:9,mark:style.di};return this.component({name:"crit"+u++,children:i(4).times(function(n){return e(i.extend({name:"cbox"+n},t))}).map(function(e,t){return e.x=8*t,e}).concat([this.text({name:"desc",x:36,y:0,width:144,height:15})])})},checkgrid:function(e){var t=e.cells,n=9,r=6.4,a=-1,o=-1,c={width:11,height:8.4,color:e.color,mark:e.mark},u=this.checkbox.bind(this);return this.component({name:e.name,x:e.x,y:e.y,children:i.chain(t).map(function(e,t){return i(e).times(function(e){var s=u(i.extend({name:"cb-"+e+"x"+t,x:e*n+o,y:t*r+a},c));return s})}).flatten().value()})},script:function(e){var t=e.toString().split("\n").slice(1);return t.pop(),t.join("\n")}})},{"../acrobat/form":4,"../base/factory":11,"../base/skills":12,underscore:27}],15:[function(e){var t=e("./factory"),n=event.target,r=e("./theme")(),i=e("underscore");i.extend(e("../base/text").prototype.defaults,r.defaults),i.extend(e("../base/check-box").prototype.defaults,r.defaults),t.format(n,{pages:[[t.text(r.nameField),t.description({x:411.334,y:454.5,species:{x:26.5,y:11.877,width:156.5,height:15},career:{x:26.5,y:27.877,width:156.5,height:15},gender:{x:26.5,y:43.877,width:64,height:15},age:{x:113.588,y:43.877,width:69,height:15},height:{x:26.5,y:59.877,width:64,height:15},build:{x:115.588,y:59.877,width:67,height:15},hair:{x:20.5,y:75.877,width:70,height:15},eyes:{x:113.588,y:75.877,width:69,height:15},motivation:{x:2,y:91.877,width:181.5,height:64,multiline:!0},features:{x:2,y:156,width:181.5,height:160,multiline:!0}}),t.component({name:"od",x:411.334,y:289.32,children:i.map([t.dutybox(),t.dutybox(),t.dutybox(),t.dutybox()],function(e,t){return e.y=16*t,e})}),t.component({name:"moral",x:411.334,y:368.3,children:[t.text({name:"str",x:0,y:0,width:151.5,height:15,alignment:"right"}),t.text({name:"weak",x:0,y:16,width:151.5,height:15,alignment:"right"}),t.text({name:"c",x:4,y:44,width:30,height:18,alignment:"center",size:10}),t.text({name:"conf",x:53.5,y:44,width:122.5,height:16,size:10})]}),t.component({name:"char",x:17.972,y:75.25,children:[t.charbox({name:"br"}),t.charbox({name:"ag"}),t.charbox({name:"int"}),t.charbox({name:"cun"}),t.charbox({name:"wil"}),t.charbox({name:"pr"})].map(function(e,t){return e.x=64.2*t+18,e})}),t.skills({x:18.18,y:128.013}),t.abilities({x:18.099,y:439.998,count:10}),t.component({name:"weapons",x:18.099,y:641.78,children:i(4).times(function(e){return{name:"weap"+e,x:0,y:32*e}}).map(t.weapbox.bind(t))}),t.component({name:"soak",x:411.334,y:83.7,children:[t.text({name:"value",x:10.3,y:18.3,width:30,height:18,size:13,font:font.HelvB,alignment:"center"})]}),t.component({name:"defense",x:411.334,y:132.7,children:[t.text({name:"melee",x:2,y:18.3,width:25.5,height:18,size:13,font:font.HelvB,alignment:"center"}),t.text({name:"range",x:33,y:18.3,width:30,height:18,size:13,font:font.HelvB,alignment:"center"})]}),t.component({name:"wounds",x:481.334,y:83.7,children:[t.text({name:"threshold",x:4,y:18.3,width:30,height:18,size:13,font:font.HelvB,alignment:"center"}),t.text({name:"current",x:48.15,y:18.3,width:62,height:18,size:13,alignment:"center"})]}),t.component({name:"strain",x:481.334,y:132.7,children:[t.text({name:"threshold",x:4,y:18.3,width:30,height:18,size:13,font:font.HelvB,alignment:"center"}),t.text({name:"current",x:48.15,y:18.3,width:62,height:18,size:13,alignment:"center"})]}),t.component({name:"criticals",x:410.25,y:193,children:i(5).times(t.critline.bind(t)).map(function(e,t){return e.y=16*t,e})})],[].concat(i(2).times(function(e){return t.component({name:"gear"+e,x:18+196.5*e,y:37,children:i(16).times(function(n){return t.component({name:"item-"+e+"-"+n,x:0,y:16*n,children:[t.text({name:"desc",x:0,y:0,width:147,height:15}),t.text({name:"enc",x:159,y:0,width:23,height:15,alignment:"center"})]})})})})).concat(t.component({name:"armor",x:18,y:308,children:[t.text({name:"desc",x:0,y:0,width:212,height:15}),t.text({name:"def",x:237.4,y:0,width:46,height:15,alignment:"center"}),t.text({name:"soak",x:299.5,y:0,width:32,height:15,alignment:"center"}),t.text({name:"enc",x:342,y:0,width:15,height:15,alignment:"center"}),t.text({name:"hp",x:363,y:0,width:15.5,height:15,alignment:"center"}),t.text({name:"spec",x:26.5,y:16,width:296,height:15}),function(){var e=["min","maj","des"],n={x:-.5,y:2,width:7.92,height:10.8,size:9,mark:style.cr};return t.component({name:"cond",x:355.5,y:16,children:i(3).times(function(t){var r=i.extend({name:e[t]},n);return r.x+=8*t,r}).map(t.checkbox.bind(t))})}()]})).concat(t.text({name:"credits",x:24,y:360,width:169,height:15})).concat(t.text({name:"enc-threshold",x:258,y:360,width:40.8,height:15,alignment:"center"})).concat(t.text({name:"enc-current",x:343,y:360,width:48,height:15,alignment:"center"})).concat(t.abilities({x:18,y:405,count:22})).concat(t.text({name:"exp-total",x:435,y:41,width:60,height:15,alignment:"center"})).concat(t.text({name:"exp-avail",x:528,y:41,width:60,height:15,alignment:"right"})).concat(t.component({name:"specs",x:411,y:81.436,children:[0,60.5,60.3,60.45,60.25].reduce(function(e,n,r){return e.y+=n,e.items.push(t.component({name:"spec"+r,x:0,y:e.y,children:[t.checkbox({name:"car",x:3.5,y:7,width:8,height:8,size:7,mark:style.ci}),t.text({name:"name",x:7.5,y:19,width:136.45,height:15,size:9}),t.text({name:"sig",x:13.28,y:38,width:130,height:15,size:9,alignment:"right"})].concat(t.checkgrid({name:"talgrid",cells:[4,4,4,4,4],x:147,y:0,mark:style.cr})).concat(t.checkgrid({name:"sigrid",cells:[1,4,4],x:147,y:35,mark:style.cr}))})),e},{y:0,items:[]}).items})).concat(t.component({name:"powers",x:411,y:385.5,children:[0,40,40,40,40,40].reduce(function(e,n,r){return e.y+=n,e.items.push(t.component({name:"pow"+r,x:0,y:e.y,children:[t.text({name:"name",x:7.5,y:17,width:136.45,height:15,size:9}),t.checkgrid({name:"powgrid",cells:[1,4,4,4,4],x:147,y:0,mark:style.cr})]})),e},{y:0,items:[]}).items})).concat(t.text({name:"notes",x:411,y:638,width:183,height:133.2,size:9,multiline:!0}))]}),i.extend(n.info,{ModDate:new Date}),n.removeScript("aurebeshTheme")},{"../base/check-box":9,"../base/text":13,"./factory":14,"./theme":16,underscore:27}],16:[function(e,t){var n=e("../acrobat/colors"),r=e("underscore"),i={size:8,font:font.Helv};t.exports=function(){switch(imperialTheme){default:case"eote":case"eote-gray":return{nameField:{name:"name",x:144,y:25.5,width:262,height:15,size:11},defaults:r.defaults({color:"eote"===imperialTheme?n.cmyk(50,65,65,25):n.cmyk(0,0,0,70)},i)};case"aor":case"aor-gray":return{nameField:{name:"name",x:130,y:22.5,width:188,height:15,size:11},defaults:r.defaults({color:"aor"===imperialTheme?n.cmyk(15,80,65,10):n.cmyk(0,0,0,70)},i)};case"fad":case"fad-gray":return{nameField:{name:"name",x:98,y:25,width:282,height:15,size:11},defaults:r.defaults({color:"fad"===imperialTheme?n.cmyk(25,60,80,10):n.cmyk(0,0,0,70)},i)}}}},{"../acrobat/colors":1,underscore:27}],17:[function(e,t){function n(){return r.rest(arguments,1).reduce(function(e,t){var n,r,i,a;for(n in t)e.hasOwnProperty(n)||(r=t.__lookupGetter__(n),i=t.__lookupSetter__(n),r||i?(a=a||{},a[n]={get:r,set:i,configurable:!0,enumerable:!0}):e[n]=t[n]);return a&&Object.defineProperties(e,a),e},arguments[0])}var r=e("underscore");t.exports=n},{underscore:27}],18:[function(e,t){t.exports=e("./inherit").bind(null,Object)},{"./inherit":24}],19:[function(e,t){var n=e("underscore");t.exports=function(){return n.reduce(arguments,function(e,t,n){return e[t]=n+1,e},{})}},{underscore:27}],20:[function(e,t){function n(){var e=i.flatten(i.rest(arguments,0)).reduce(function(e,t){var n;return i.isFunction(t)?(n={},n.fn=t,e.push(n)):(n=e[e.length-1],n.args=n.args||[null],n.args.push(t)),e},[]).map(function(e){return r.apply(e.fn,e.args)});return function(){for(var t,n=i.rest(arguments,0),r=e.length,a=0;r>a;a++)t=e[a],n=t[i.isArray(n)?"apply":"call"](null,n);return n}}var r=Function.prototype.bind,i=e("underscore");t.exports=n},{underscore:27}],21:[function(e,t){for(var n=[],r=0;256>r;r++)n[r]=(16>r?"0":"")+r.toString(16);t.exports=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return n[255&e]+n[e>>8&255]+n[e>>16&255]+n[e>>24&255]+"-"+n[255&t]+n[t>>8&255]+"-"+n[t>>16&15|64]+n[t>>24&255]+"-"+n[63&r|128]+n[r>>8&255]+"-"+n[r>>16&255]+n[r>>24&255]+n[255&i]+n[i>>8&255]+n[i>>16&255]+n[i>>24&255]}},{}],22:[function(e,t){var n=e("underscore");t.exports=function(){var e=n.rest(arguments,0);return n.object(e,e)}},{underscore:27}],23:[function(e,t){t.exports={inherit:e("./inherit"),classify:e("./classify"),augment:e("./augment"),hashify:e("./hashify"),enumerate:e("./enumerate"),instantiate:e("./instantiate"),guid:e("./guid"),invoke:e("./invoke"),execute:e("./execute")}},{"./augment":17,"./classify":18,"./enumerate":19,"./execute":20,"./guid":21,"./hashify":22,"./inherit":24,"./instantiate":25,"./invoke":26}],24:[function(e,t){function n(e,t,a,o){var c,u,s;return arguments.length<4&&"function"!=typeof t&&(o=a,a=t,t=null),c=a&&a.hasOwnProperty("constructor"),t=t||c&&a.constructor||function(){e.apply(this,arguments)},u=e.prototype,t.prototype=s=r(Object.create(u),t.prototype),o=o||{},a&&(delete a.constructor,r(s,a)),o.constructor={value:t},Object.defineProperties(s,o),t.superclass=e,t.superproto=u,t.extend||(t.extend=n.bind(t,t)),t.extended=t.extended?i.wrap(t.extended.bind(t),function(t,n){e.extended&&e.extended(n),t(n)}):e.extended,e.extended&&e.extended(t),t}var r=e("./augment"),i=e("underscore");t.exports=n},{"./augment":17,underscore:27}],25:[function(e,t){e("underscore");t.exports=function(e,t){var n=Object.create(e.prototype);return e.apply(n,t||[]),n}},{underscore:27}],26:[function(e,t){function n(e){var t=r.rest(arguments,1);return function(n){return n[e].apply(n,t)}}var r=e("underscore");t.exports=n},{underscore:27}],27:[function(e,t,n){(function(){var e=this,r=e._,i=Array.prototype,a=Object.prototype,o=Function.prototype,c=i.push,u=i.slice,s=i.concat,l=a.toString,h=a.hasOwnProperty,f=Array.isArray,d=Object.keys,p=o.bind,m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};"undefined"!=typeof n?("undefined"!=typeof t&&t.exports&&(n=t.exports=m),n._=m):e._=m,m.VERSION="1.7.0";var g=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}};m.iteratee=function(e,t,n){return null==e?m.identity:m.isFunction(e)?g(e,t,n):m.isObject(e)?m.matches(e):m.property(e)},m.each=m.forEach=function(e,t,n){if(null==e)return e;t=g(t,n);var r,i=e.length;if(i===+i)for(r=0;i>r;r++)t(e[r],r,e);else{var a=m.keys(e);for(r=0,i=a.length;i>r;r++)t(e[a[r]],a[r],e)}return e},m.map=m.collect=function(e,t,n){if(null==e)return[];t=m.iteratee(t,n);for(var r,i=e.length!==+e.length&&m.keys(e),a=(i||e).length,o=Array(a),c=0;a>c;c++)r=i?i[c]:c,o[c]=t(e[r],r,e);return o};var y="Reduce of empty array with no initial value";m.reduce=m.foldl=m.inject=function(e,t,n,r){null==e&&(e=[]),t=g(t,r,4);var i,a=e.length!==+e.length&&m.keys(e),o=(a||e).length,c=0;if(arguments.length<3){if(!o)throw new TypeError(y);n=e[a?a[c++]:c++]}for(;o>c;c++)i=a?a[c]:c,n=t(n,e[i],i,e);return n},m.reduceRight=m.foldr=function(e,t,n,r){null==e&&(e=[]),t=g(t,r,4);var i,a=e.length!==+e.length&&m.keys(e),o=(a||e).length;if(arguments.length<3){if(!o)throw new TypeError(y);n=e[a?a[--o]:--o]}for(;o--;)i=a?a[o]:o,n=t(n,e[i],i,e);return n},m.find=m.detect=function(e,t,n){var r;return t=m.iteratee(t,n),m.some(e,function(e,n,i){return t(e,n,i)?(r=e,!0):void 0}),r},m.filter=m.select=function(e,t,n){var r=[];return null==e?r:(t=m.iteratee(t,n),m.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r)},m.reject=function(e,t,n){return m.filter(e,m.negate(m.iteratee(t)),n)},m.every=m.all=function(e,t,n){if(null==e)return!0;t=m.iteratee(t,n);var r,i,a=e.length!==+e.length&&m.keys(e),o=(a||e).length;for(r=0;o>r;r++)if(i=a?a[r]:r,!t(e[i],i,e))return!1;return!0},m.some=m.any=function(e,t,n){if(null==e)return!1;t=m.iteratee(t,n);var r,i,a=e.length!==+e.length&&m.keys(e),o=(a||e).length;for(r=0;o>r;r++)if(i=a?a[r]:r,t(e[i],i,e))return!0;return!1},m.contains=m.include=function(e,t){return null==e?!1:(e.length!==+e.length&&(e=m.values(e)),m.indexOf(e,t)>=0)},m.invoke=function(e,t){var n=u.call(arguments,2),r=m.isFunction(t);return m.map(e,function(e){return(r?t:e[t]).apply(e,n)})},m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matches(t))},m.findWhere=function(e,t){return m.find(e,m.matches(t))},m.max=function(e,t,n){var r,i,a=-1/0,o=-1/0;if(null==t&&null!=e){e=e.length===+e.length?e:m.values(e);for(var c=0,u=e.length;u>c;c++)r=e[c],r>a&&(a=r)}else t=m.iteratee(t,n),m.each(e,function(e,n,r){i=t(e,n,r),(i>o||i===-1/0&&a===-1/0)&&(a=e,o=i)});return a},m.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t&&null!=e){e=e.length===+e.length?e:m.values(e);for(var c=0,u=e.length;u>c;c++)r=e[c],a>r&&(a=r)}else t=m.iteratee(t,n),m.each(e,function(e,n,r){i=t(e,n,r),(o>i||1/0===i&&1/0===a)&&(a=e,o=i)});return a},m.shuffle=function(e){for(var t,n=e&&e.length===+e.length?e:m.values(e),r=n.length,i=Array(r),a=0;r>a;a++)t=m.random(0,a),t!==a&&(i[a]=i[t]),i[t]=n[a];return i},m.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=m.values(e)),e[m.random(e.length-1)]):m.shuffle(e).slice(0,Math.max(0,t))},m.sortBy=function(e,t,n){return t=m.iteratee(t,n),m.pluck(m.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return e.index-t.index}),"value")};var x=function(e){return function(t,n,r){var i={};return n=m.iteratee(n,r),m.each(t,function(r,a){var o=n(r,a,t);e(i,r,o)}),i}};m.groupBy=x(function(e,t,n){m.has(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=x(function(e,t,n){e[n]=t}),m.countBy=x(function(e,t,n){m.has(e,n)?e[n]++:e[n]=1}),m.sortedIndex=function(e,t,n,r){n=m.iteratee(n,r,1);for(var i=n(t),a=0,o=e.length;o>a;){var c=a+o>>>1;n(e[c])<i?a=c+1:o=c}return a},m.toArray=function(e){return e?m.isArray(e)?u.call(e):e.length===+e.length?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:e.length===+e.length?e.length:m.keys(e).length},m.partition=function(e,t,n){t=m.iteratee(t,n);var r=[],i=[];return m.each(e,function(e,n,a){(t(e,n,a)?r:i).push(e)}),[r,i]},m.first=m.head=m.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:u.call(e,0,t)},m.initial=function(e,t,n){return u.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},m.rest=m.tail=m.drop=function(e,t,n){return u.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,m.identity)};var v=function(e,t,n,r){if(t&&m.every(e,m.isArray))return s.apply(r,e);for(var i=0,a=e.length;a>i;i++){var o=e[i];m.isArray(o)||m.isArguments(o)?t?c.apply(r,o):v(o,t,n,r):n||r.push(o)}return r};m.flatten=function(e,t){return v(e,t,!1,[])},m.without=function(e){return m.difference(e,u.call(arguments,1))},m.uniq=m.unique=function(e,t,n,r){if(null==e)return[];m.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=m.iteratee(n,r));for(var i=[],a=[],o=0,c=e.length;c>o;o++){var u=e[o];if(t)o&&a===u||i.push(u),a=u;else if(n){var s=n(u,o,e);m.indexOf(a,s)<0&&(a.push(s),i.push(u))}else m.indexOf(i,u)<0&&i.push(u)}return i},m.union=function(){return m.uniq(v(arguments,!0,!0,[]))},m.intersection=function(e){if(null==e)return[];for(var t=[],n=arguments.length,r=0,i=e.length;i>r;r++){var a=e[r];if(!m.contains(t,a)){for(var o=1;n>o&&m.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},m.difference=function(e){var t=v(u.call(arguments,1),!0,!0,[]);return m.filter(e,function(e){return!m.contains(t,e)})},m.zip=function(e){if(null==e)return[];for(var t=m.max(arguments,"length").length,n=Array(t),r=0;t>r;r++)n[r]=m.pluck(arguments,r);return n},m.object=function(e,t){if(null==e)return{};for(var n={},r=0,i=e.length;i>r;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},m.indexOf=function(e,t,n){if(null==e)return-1;var r=0,i=e.length;if(n){if("number"!=typeof n)return r=m.sortedIndex(e,t),e[r]===t?r:-1;r=0>n?Math.max(0,i+n):n}for(;i>r;r++)if(e[r]===t)return r;return-1},m.lastIndexOf=function(e,t,n){if(null==e)return-1;var r=e.length;for("number"==typeof n&&(r=0>n?r+n+1:Math.min(r,n+1));--r>=0;)if(e[r]===t)return r;return-1},m.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;r>a;a++,e+=n)i[a]=e;return i};var b=function(){};m.bind=function(e,t){var n,r;if(p&&e.bind===p)return p.apply(e,u.call(arguments,1));if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");return n=u.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(u.call(arguments)));b.prototype=e.prototype;var i=new b;b.prototype=null;var a=e.apply(i,n.concat(u.call(arguments)));return m.isObject(a)?a:i}},m.partial=function(e){var t=u.call(arguments,1);return function(){for(var n=0,r=t.slice(),i=0,a=r.length;a>i;i++)r[i]===m&&(r[i]=arguments[n++]);for(;n<arguments.length;)r.push(arguments[n++]);return e.apply(this,r)}},m.bindAll=function(e){var t,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(t=1;r>t;t++)n=arguments[t],e[n]=m.bind(e[n],e);return e},m.memoize=function(e,t){var n=function(r){var i=n.cache,a=t?t.apply(this,arguments):r;return m.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},m.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},m.defer=function(e){return m.delay.apply(m,[e,1].concat(u.call(arguments,1)))},m.throttle=function(e,t,n){var r,i,a,o=null,c=0;n||(n={});var u=function(){c=n.leading===!1?0:m.now(),o=null,a=e.apply(r,i),o||(r=i=null)};return function(){var s=m.now();c||n.leading!==!1||(c=s);var l=t-(s-c);return r=this,i=arguments,0>=l||l>t?(clearTimeout(o),o=null,c=s,a=e.apply(r,i),o||(r=i=null)):o||n.trailing===!1||(o=setTimeout(u,l)),a}},m.debounce=function(e,t,n){var r,i,a,o,c,u=function(){var s=m.now()-o;t>s&&s>0?r=setTimeout(u,t-s):(r=null,n||(c=e.apply(a,i),r||(a=i=null)))};return function(){a=this,i=arguments,o=m.now();var s=n&&!r;return r||(r=setTimeout(u,t)),s&&(c=e.apply(a,i),a=i=null),c}},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},m.before=function(e,t){var n;return function(){return--e>0?n=t.apply(this,arguments):t=null,n}},m.once=m.partial(m.before,2),m.keys=function(e){if(!m.isObject(e))return[];if(d)return d(e);var t=[];for(var n in e)m.has(e,n)&&t.push(n);return t},m.values=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=e[t[i]];return r},m.pairs=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;n>i;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){for(var t={},n=m.keys(e),r=0,i=n.length;i>r;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()},m.extend=function(e){if(!m.isObject(e))return e;for(var t,n,r=1,i=arguments.length;i>r;r++){t=arguments[r];for(n in t)h.call(t,n)&&(e[n]=t[n])}return e},m.pick=function(e,t,n){var r,i={};if(null==e)return i;if(m.isFunction(t)){t=g(t,n);for(r in e){var a=e[r];t(a,r,e)&&(i[r]=a)}}else{var o=s.apply([],u.call(arguments,1));e=new Object(e);for(var c=0,l=o.length;l>c;c++)r=o[c],r in e&&(i[r]=e[r])}return i},m.omit=function(e,t,n){if(m.isFunction(t))t=m.negate(t);else{var r=m.map(s.apply([],u.call(arguments,1)),String);t=function(e,t){return!m.contains(r,t)}}return m.pick(e,t,n)},m.defaults=function(e){if(!m.isObject(e))return e;for(var t=1,n=arguments.length;n>t;t++){var r=arguments[t];for(var i in r)void 0===e[i]&&(e[i]=r[i])}return e},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e};var w=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=l.call(e);if(i!==l.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}if("object"!=typeof e||"object"!=typeof t)return!1;for(var a=n.length;a--;)if(n[a]===e)return r[a]===t;var o=e.constructor,c=t.constructor;if(o!==c&&"constructor"in e&&"constructor"in t&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(c)&&c instanceof c))return!1;n.push(e),r.push(t);var u,s;if("[object Array]"===i){if(u=e.length,s=u===t.length)for(;u--&&(s=w(e[u],t[u],n,r)););}else{var h,f=m.keys(e);if(u=f.length,s=m.keys(t).length===u)for(;u--&&(h=f[u],s=m.has(t,h)&&w(e[h],t[h],n,r)););}return n.pop(),r.pop(),s};m.isEqual=function(e,t){return w(e,t,[],[])},m.isEmpty=function(e){if(null==e)return!0;if(m.isArray(e)||m.isString(e)||m.isArguments(e))return 0===e.length;for(var t in e)if(m.has(e,t))return!1;return!0},m.isElement=function(e){return!(!e||1!==e.nodeType)
},m.isArray=f||function(e){return"[object Array]"===l.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp"],function(e){m["is"+e]=function(t){return l.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return m.has(e,"callee")}),"function"!=typeof/./&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&e!==+e},m.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===l.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){return null!=e&&h.call(e,t)},m.noConflict=function(){return e._=r,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return function(t){return t[e]}},m.matches=function(e){var t=m.pairs(e),n=t.length;return function(e){if(null==e)return!n;e=new Object(e);for(var r=0;n>r;r++){var i=t[r],a=i[0];if(i[1]!==e[a]||!(a in e))return!1}return!0}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=g(t,n,1);for(var i=0;e>i;i++)r[i]=t(i);return r},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},j=m.invert(k),_=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=_(k),m.unescape=_(j),m.result=function(e,t){if(null==e)return void 0;var n=e[t];return m.isFunction(n)?e[t]():n};var O=0;m.uniqueId=function(e){var t=++O+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,A={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},F=/\\|'|\r|\n|\u2028|\u2029/g,S=function(e){return"\\"+A[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r=RegExp([(t.escape||z).source,(t.interpolate||z).source,(t.evaluate||z).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(r,function(t,n,r,o,c){return a+=e.slice(i,c).replace(F,S),i=c+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(c){throw c.source=a,c}var u=function(e){return o.call(this,e,m)},s=t.variable||"obj";return u.source="function("+s+"){\n"+a+"}",u},m.chain=function(e){var t=m(e);return t._chain=!0,t};var T=function(e){return this._chain?m(e).chain():e};m.mixin=function(e){m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),T.call(this,n.apply(m,e))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],T.call(this,n)}}),m.each(["concat","join","slice"],function(e){var t=i[e];m.prototype[e]=function(){return T.call(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this)},{}]},{},[15]);